{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"servers":[{"url":"/api"}],"paths":{"/sensors":{"post":{"summary":"Post Sensors","operationId":"post_sensors","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Post Sensors Sensors Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sensors/{name}":{"get":{"summary":"Get Sensor","description":"Get comprehensive sensor information including statistics.","operationId":"get_sensor","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"summary":"Update Sensor","operationId":"update_sensor","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SensorDetails"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Sensor","operationId":"delete_sensor","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/weather":{"post":{"summary":"Post Weather","description":"Post weather data for a sensor.","operationId":"post_weather","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeatherDataRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeatherDataResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/sensors/{name}/weather":{"get":{"summary":"Get Sensor Weather","description":"Get weather data for a sensor between timestamps.","operationId":"get_sensor_weather","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start timestamp (inclusive)","title":"Start"},"description":"Start timestamp (inclusive)"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End timestamp (inclusive)","title":"End"},"description":"End timestamp (inclusive)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WeatherDataResponse"},"title":"Response Get Sensor Weather Sensors  Name  Weather Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"SensorCreate":{"properties":{"name":{"type":"string","title":"Name"}},"type":"object","required":["name"],"title":"SensorCreate","description":"Model for creating a sensor."},"SensorDetails":{"properties":{"name":{"type":"string","title":"Name"},"created":{"type":"string","format":"date-time","title":"Created"},"modified":{"type":"string","format":"date-time","title":"Modified"}},"type":"object","required":["name","created","modified"],"title":"SensorDetails","description":"Model for sensor details."},"SensorInfo":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the sensor"},"created":{"type":"string","format":"date-time","title":"Created","description":"When the sensor was created"},"modified":{"type":"string","format":"date-time","title":"Modified","description":"When the sensor was last modified"},"statistics":{"$ref":"#/components/schemas/SensorStatistics","description":"Weather data statistics"}},"type":"object","required":["name","created","modified","statistics"],"title":"SensorInfo","description":"Model for comprehensive sensor information."},"SensorStatistics":{"properties":{"total_readings":{"type":"integer","title":"Total Readings","description":"Total number of weather data readings"},"first_reading":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"First Reading","description":"Timestamp of first reading"},"last_reading":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Reading","description":"Timestamp of last reading"},"last_24h_readings":{"type":"integer","title":"Last 24H Readings","description":"Number of readings in last 24 hours"},"average_temperature":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Average Temperature","description":"Average temperature in Celsius"},"average_humidity":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Average Humidity","description":"Average humidity percentage"},"average_pressure":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Average Pressure","description":"Average pressure in hPa"},"average_rssi":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Average Rssi","description":"Average WiFi signal strength"}},"type":"object","required":["total_readings","last_24h_readings"],"title":"SensorStatistics","description":"Model for sensor statistics."},"SensorUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},"type":"object","required":["name"],"title":"SensorUpdate","description":"Model for updating a sensor."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WeatherDataRequest":{"properties":{"timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"integer"}],"title":"Timestamp","description":"Timestamp of the measurement (datetime or Unix timestamp)"},"temperature":{"type":"number","title":"Temperature","description":"Temperature in Celsius"},"humidity":{"type":"number","title":"Humidity","description":"Relative humidity in percent"},"pressure":{"type":"number","title":"Pressure","description":"Atmospheric pressure in hPa"},"altitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Altitude","description":"Altitude in meters"},"rssi":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rssi","description":"WiFi signal strength in dBm"},"retry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retry Count","description":"Number of retry attempts"}},"type":"object","required":["timestamp","temperature","humidity","pressure"],"title":"WeatherDataRequest","description":"Weather data model for API requests."},"WeatherDataResponse":{"properties":{"sensor":{"type":"string","title":"Sensor","description":"Name of the sensor"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Timestamp of the measurement"},"temperature":{"type":"number","title":"Temperature","description":"Temperature in Celsius"},"humidity":{"type":"number","title":"Humidity","description":"Relative humidity in percent"},"pressure":{"type":"number","title":"Pressure","description":"Atmospheric pressure in hPa"},"altitude":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Altitude","description":"Altitude in meters"},"rssi":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rssi","description":"WiFi signal strength in dBm"},"retry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retry Count","description":"Number of retry attempts"}},"type":"object","required":["sensor","timestamp","temperature","humidity","pressure"],"title":"WeatherDataResponse","description":"Weather data model for API responses."}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-Key"}}}}